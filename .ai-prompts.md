#file:lua/ai/init.lua
#file:lua/ai/common.lua
#file:lua/ai/aiconfig.lua
#file:lua/ai/globpattern.lua
#file:lua/ai/openai/query.lua


In `formatResult`, I directly access `data.output[2].content[1].text`. 
This is about luck and that is not good.

I need to test 
 - if `data.output` exists
    - if `data.output[1]` exists
       - if `data.output[1].content` exists
          - if `data.output[1].content[1]` exists
             - if `data.output[1].content[1].text` exists
                - return it
    - if `data.output[2]` exists
       - if `data.output[2].content` exists
          - if `data.output[2].content[1]` exists
             - if `data.output[2].content[1].text` exists
                - return it 

I want to try maximum 3 elements of `data.output` and maximum 3 elements of `data.output[i].content`

TEll me the new code of `formatResult` function that implements this logic.
